<html>
<head>
    <script src="nui://game/ui/jquery.js" type="text/javascript"></script>
    <script>
        var audioPlayer = null;
        window.addEventListener('message', function(event) {
            if (event.data.transactionType == "playSound") {
                if (audioPlayer != null) {
                    audioPlayer.pause();
                    audioPlayer.currentTime = 0; 
                }
                audioPlayer = new Audio("./sounds/" + event.data.transactionFile + ".ogg");
                audioPlayer.volume = event.data.transactionVolume;
                audioPlayer.loop = false;
                audioPlayer.play();
            }

            if (event.data.transactionType == "stopSound") {
                if (audioPlayer != null) {
                    audioPlayer.pause();
                    audioPlayer.currentTime = 0; 
                    audioPlayer = null; 
                }
            }
        });
    </script>
</head>
<body>
</body>
</html>
